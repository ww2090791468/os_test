import{u as M}from"./quiz-DfHryB7L.js";import{c as p,a as i,b as t,l as u,t as o,d as g,F as j,r as B,e as f,i as A,j as a,k as x}from"./index-CV5AmAh9.js";const q={class:"min-h-screen bg-gradient-to-br from-purple-50 to-pink-100"},N={class:"container mx-auto px-4 py-8"},S={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},H={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},z={class:"text-center p-4 bg-blue-50 rounded-lg"},D={class:"text-3xl font-bold text-blue-600"},L={class:"text-center p-4 bg-green-50 rounded-lg"},V={class:"text-3xl font-bold text-green-600"},F={class:"text-center p-4 bg-purple-50 rounded-lg"},R={class:"text-3xl font-bold text-purple-600"},T={class:"text-center p-4 bg-orange-50 rounded-lg"},$={class:"text-3xl font-bold text-orange-600"},E={class:"bg-white rounded-xl shadow-lg p-6 mb-6"},I={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},Q={class:"p-4 bg-blue-50 rounded-lg"},G={class:"text-sm text-gray-600"},J={class:"p-4 bg-green-50 rounded-lg"},K={class:"text-sm text-gray-600"},O={class:"p-4 bg-orange-50 rounded-lg"},P={class:"text-sm text-gray-600"},U={class:"bg-white rounded-xl shadow-lg p-6"},W={key:0,class:"space-y-3"},X={class:"flex items-start justify-between mb-2"},Y={class:"flex-1"},Z={class:"flex items-center mb-1"},tt={class:"text-sm text-gray-500"},et={class:"text-sm text-gray-700"},st={class:"flex items-center justify-between text-xs text-gray-500"},ot={key:0,class:"ml-2"},nt={class:"text-green-600 font-medium"},rt={key:1,class:"text-center py-8 text-gray-500"},lt={class:"mt-6 flex justify-center space-x-4"},ct={__name:"Stats",setup(it){const m=M(),b=A(),l=p(()=>m.stats),y=p(()=>l.value.history.slice().reverse().slice(0,20));function d(n){const e=l.value.history.filter(c=>c.mode===n),s=e.length,r=e.filter(c=>c.isCorrect).length,C=s>0?Math.round(r/s*100):0;return{count:s,accuracy:C}}function h(n){return{sequential:"顺序",random:"随机",mistakes:"错题"}[n]||n}function _(n){return{sequential:"bg-blue-100 text-blue-800",random:"bg-green-100 text-green-800",mistakes:"bg-orange-100 text-orange-800"}[n]||"bg-gray-100 text-gray-800"}function k(n){const e=new Date(n),r=new Date-e;return r<6e4?"刚刚":r<36e5?`${Math.floor(r/6e4)} 分钟前`:r<864e5?`${Math.floor(r/36e5)} 小时前`:e.toLocaleDateString("zh-CN")}function w(){confirm("确定要清空所有统计数据吗？此操作不可恢复！")&&(m.resetAll(),alert("统计数据已清空"))}function v(){b.push("/")}return(n,e)=>(a(),i("div",q,[t("div",N,[t("div",{class:"flex items-center justify-between mb-6"},[t("button",{onClick:v,class:"flex items-center text-gray-600 hover:text-gray-800 transition-colors"},[...e[0]||(e[0]=[t("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),u(" 返回首页 ",-1)])]),e[1]||(e[1]=t("h1",{class:"text-xl font-bold text-gray-800"},"学习统计",-1))]),t("div",S,[e[6]||(e[6]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"总体统计",-1)),t("div",H,[t("div",z,[t("div",D,o(l.value.totalAnswered),1),e[2]||(e[2]=t("div",{class:"text-sm text-gray-600"},"已答题数",-1))]),t("div",L,[t("div",V,o(l.value.correctCount),1),e[3]||(e[3]=t("div",{class:"text-sm text-gray-600"},"正确题数",-1))]),t("div",F,[t("div",R,o(l.value.accuracy)+"%",1),e[4]||(e[4]=t("div",{class:"text-sm text-gray-600"},"正确率",-1))]),t("div",T,[t("div",$,o(l.value.totalMistakes),1),e[5]||(e[5]=t("div",{class:"text-sm text-gray-600"},"错题数量",-1))])])]),t("div",E,[e[10]||(e[10]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"模式统计",-1)),t("div",I,[t("div",Q,[e[7]||(e[7]=g('<div class="flex items-center mb-3"><div class="w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center mr-3"><svg class="w-5 h-5 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div><span class="font-semibold text-gray-800">顺序刷题</span></div>',1)),t("div",G,[t("div",null,"答题: "+o(d("sequential").count)+" 题",1),t("div",null,"正确率: "+o(d("sequential").accuracy)+"%",1)])]),t("div",J,[e[8]||(e[8]=g('<div class="flex items-center mb-3"><div class="w-10 h-10 bg-green-100 rounded-full flex items-center justify-center mr-3"><svg class="w-5 h-5 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></div><span class="font-semibold text-gray-800">随机刷题</span></div>',1)),t("div",K,[t("div",null,"答题: "+o(d("random").count)+" 题",1),t("div",null,"正确率: "+o(d("random").accuracy)+"%",1)])]),t("div",O,[e[9]||(e[9]=g('<div class="flex items-center mb-3"><div class="w-10 h-10 bg-orange-100 rounded-full flex items-center justify-center mr-3"><svg class="w-5 h-5 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><span class="font-semibold text-gray-800">错题本</span></div>',1)),t("div",P,[t("div",null,"答题: "+o(d("mistakes").count)+" 题",1),t("div",null,"正确率: "+o(d("mistakes").accuracy)+"%",1)])])])]),t("div",U,[e[13]||(e[13]=t("h2",{class:"text-lg font-semibold text-gray-800 mb-4"},"最近答题记录",-1)),l.value.history.length>0?(a(),i("div",W,[(a(!0),i(j,null,B(y.value,(s,r)=>(a(),i("div",{key:r,class:"p-4 border rounded-lg hover:bg-gray-50 transition-colors"},[t("div",X,[t("div",Y,[t("div",Z,[t("span",{class:x(["text-xs px-2 py-1 rounded-full mr-2",_(s.mode)])},o(h(s.mode)),3),t("span",tt,"第 "+o(s.questionId)+" 题",1)]),t("p",et,o(s.question),1)]),t("div",{class:x(["px-3 py-1 rounded-full text-sm font-medium",s.isCorrect?"bg-green-100 text-green-800":"bg-red-100 text-red-800"])},o(s.isCorrect?"正确":"错误"),3)]),t("div",st,[t("div",null,[e[12]||(e[12]=u(" 你的答案: ",-1)),t("span",{class:x(s.userAnswer===s.correctAnswer?"text-green-600":"text-red-600")},o(s.userAnswer),3),s.isCorrect?f("",!0):(a(),i("span",ot,[e[11]||(e[11]=u(" 正确答案: ",-1)),t("span",nt,o(s.correctAnswer),1)]))]),t("div",null,o(k(s.timestamp)),1)])]))),128))])):(a(),i("div",rt," 暂无答题记录 "))]),t("div",lt,[t("button",{onClick:v,class:"px-6 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"}," 返回首页 "),l.value.history.length>0?(a(),i("button",{key:0,onClick:w,class:"px-6 py-2 bg-red-100 text-red-700 rounded-lg hover:bg-red-200 transition-colors"}," 清空统计数据 ")):f("",!0)])])]))}};export{ct as default};
