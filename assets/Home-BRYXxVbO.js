import{u as k}from"./quiz-DfHryB7L.js";import{c as x,o as j,a,b as t,d as m,e as v,u as n,t as s,n as C,F as z,r as A,f as B,g as M,w as p,h as Q,i as N,j as d,k as h,l as _}from"./index-CV5AmAh9.js";const S={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},V={class:"container mx-auto px-4 py-8"},D={class:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-12"},H={class:"text-center"},L={key:0,class:"mt-2 inline-block bg-orange-500 text-white text-xs px-2 py-1 rounded-full"},T={class:"max-w-4xl mx-auto mb-12"},E={class:"bg-white rounded-xl shadow-lg p-6"},O={class:"flex items-center justify-between mb-6"},$={class:"text-sm text-gray-500"},F={class:"mb-6"},I={class:"flex justify-between items-center mb-2"},P={class:"text-sm font-bold text-blue-600"},R={class:"w-full bg-gray-200 rounded-full h-3 overflow-hidden"},G={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},J={class:"text-center p-4 bg-blue-50 rounded-lg border border-blue-200"},K={class:"text-2xl font-bold text-blue-600"},U={class:"text-xs text-gray-500 mt-1"},W={class:"text-center p-4 bg-green-50 rounded-lg border border-green-200"},X={class:"text-2xl font-bold text-green-600"},Y={class:"text-xs text-gray-500 mt-1"},Z={class:"text-center p-4 bg-purple-50 rounded-lg border border-purple-200"},q={class:"text-2xl font-bold text-purple-600"},tt={class:"text-xs text-gray-500 mt-1"},et={class:"text-center p-4 bg-orange-50 rounded-lg border border-orange-200"},st={class:"text-2xl font-bold text-orange-600"},ot={class:"text-xs text-gray-500 mt-1"},lt={key:0,class:"mt-6 p-4 bg-gray-50 rounded-lg"},rt={class:"space-y-2"},nt={class:"flex items-center space-x-2"},it={class:"text-gray-600 truncate max-w-xs"},dt={class:"flex items-center space-x-2"},at={class:"text-xs text-gray-400"},ut={class:"max-w-4xl mx-auto"},ct={class:"bg-white rounded-xl shadow-lg p-6"},xt={class:"grid grid-cols-2 md:grid-cols-4 gap-4"},gt={class:"text-center p-4 bg-blue-50 rounded-lg"},mt={class:"text-2xl font-bold text-blue-600"},vt={class:"text-center p-4 bg-green-50 rounded-lg"},bt={class:"text-2xl font-bold text-green-600"},ft={class:"text-center p-4 bg-purple-50 rounded-lg"},pt={class:"text-2xl font-bold text-purple-600"},ht={class:"text-center p-4 bg-orange-50 rounded-lg"},_t={class:"text-2xl font-bold text-orange-600"},wt={class:"mt-6 flex flex-col sm:flex-row gap-3 justify-center"},zt={__name:"Home",setup(yt){const l=k(),w=N(),b=x(()=>{const r=l.allQuestions.length,e=Object.keys(l.userAnswers).length;return r>0?Math.round(e/r*100):0}),u=x(()=>{const r=Object.keys(l.userAnswers),e={single:0,multiple:0,judge:0,fill:0};return l.allQuestions.forEach(i=>{const o=i.序号;r.includes(o.toString())&&(i.题目.includes("（单选）")?e.single++:i.题目.includes("（多选）")?e.multiple++:i.题目.includes("（判断）")?e.judge++:i.题目.includes("（填空）")&&e.fill++)}),e}),c=x(()=>{const r={single:0,multiple:0,judge:0,fill:0};return l.allQuestions.forEach(e=>{e.题目.includes("（单选）")?r.single++:e.题目.includes("（多选）")?r.multiple++:e.题目.includes("（判断）")?r.judge++:e.题目.includes("（填空）")&&r.fill++}),r}),f=x(()=>l.answerHistory.slice(-10));function y(r){const e=new Date(r),o=new Date-e;return o<6e4?"刚刚":o<36e5?Math.floor(o/6e4)+"分钟前":o<864e5?Math.floor(o/36e5)+"小时前":o<6048e5?Math.floor(o/864e5)+"天前":e.toLocaleDateString("zh-CN")}j(async()=>{await l.loadAllQuestions()});async function g(r){await l.startQuiz(r),l.currentQuestions.length>0?w.push("/quiz"):r==="mistakes"&&alert("暂无错题记录，快去答题吧！")}return(r,e)=>{const i=Q("router-link");return d(),a("div",S,[t("div",V,[e[19]||(e[19]=t("div",{class:"text-center mb-12"},[t("h1",{class:"text-4xl font-bold text-gray-800 mb-4"},"操作系统刷题应用"),t("p",{class:"text-gray-600"},"选择刷题模式开始练习")],-1)),t("div",D,[t("div",{class:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-blue-500",onClick:e[0]||(e[0]=o=>g("sequential"))},[...e[3]||(e[3]=[m('<div class="text-center"><div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></div><h3 class="text-xl font-semibold text-gray-800 mb-2">顺序刷题</h3><p class="text-gray-600 text-sm">按题目序号顺序练习</p></div>',1)])]),t("div",{class:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-green-500",onClick:e[1]||(e[1]=o=>g("random"))},[...e[4]||(e[4]=[m('<div class="text-center"><div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path></svg></div><h3 class="text-xl font-semibold text-gray-800 mb-2">随机刷题</h3><p class="text-gray-600 text-sm">随机抽取题目练习</p></div>',1)])]),t("div",{class:"bg-white rounded-xl shadow-lg p-6 hover:shadow-xl transition-all duration-300 cursor-pointer border-2 border-transparent hover:border-orange-500",onClick:e[2]||(e[2]=o=>g("mistakes"))},[t("div",H,[e[5]||(e[5]=m('<div class="w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4"><svg class="w-8 h-8 text-orange-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg></div><h3 class="text-xl font-semibold text-gray-800 mb-2">错题本</h3><p class="text-gray-600 text-sm">专注于错题复习</p>',3)),n(l).mistakes.size>0?(d(),a("div",L,s(n(l).mistakes.size)+" 道错题 ",1)):v("",!0)])])]),t("div",T,[t("div",E,[t("div",O,[e[6]||(e[6]=t("h2",{class:"text-xl font-semibold text-gray-800"},"学习进度",-1)),t("div",$," 总题数: "+s(n(l).allQuestions.length)+" | 已完成: "+s(Object.keys(n(l).userAnswers).length),1)]),t("div",F,[t("div",I,[e[7]||(e[7]=t("span",{class:"text-sm font-medium text-gray-700"},"整体完成度",-1)),t("span",P,s(b.value)+"%",1)]),t("div",R,[t("div",{class:"bg-gradient-to-r from-blue-500 to-blue-600 h-full rounded-full transition-all duration-500 ease-out",style:C({width:b.value+"%"})},null,4)])]),t("div",G,[t("div",J,[t("div",K,s(u.value.single),1),e[8]||(e[8]=t("div",{class:"text-sm text-gray-600"},"单选题完成",-1)),t("div",U,"总共 "+s(c.value.single)+" 题",1)]),t("div",W,[t("div",X,s(u.value.multiple),1),e[9]||(e[9]=t("div",{class:"text-sm text-gray-600"},"多选题完成",-1)),t("div",Y,"总共 "+s(c.value.multiple)+" 题",1)]),t("div",Z,[t("div",q,s(u.value.judge),1),e[10]||(e[10]=t("div",{class:"text-sm text-gray-600"},"判断题完成",-1)),t("div",tt,"总共 "+s(c.value.judge)+" 题",1)]),t("div",et,[t("div",st,s(u.value.fill),1),e[11]||(e[11]=t("div",{class:"text-sm text-gray-600"},"填空题完成",-1)),t("div",ot,"总共 "+s(c.value.fill)+" 题",1)])]),f.value.length>0?(d(),a("div",lt,[e[12]||(e[12]=t("h3",{class:"text-sm font-semibold text-gray-700 mb-3"},"最近答题记录",-1)),t("div",rt,[(d(!0),a(z,null,A(f.value.slice(-3).reverse(),o=>(d(),a("div",{key:o.timestamp,class:"flex items-center justify-between text-sm p-2 bg-white rounded"},[t("div",nt,[t("div",{class:h(["w-2 h-2 rounded-full",o.isCorrect?"bg-green-500":"bg-red-500"])},null,2),t("span",it," 题目"+s(o.questionId)+": "+s(o.question.substring(0,20))+"... ",1)]),t("div",dt,[t("span",{class:h(["text-xs font-medium",o.isCorrect?"text-green-600":"text-red-600"])},s(o.isCorrect?"正确":"错误"),3),t("span",at,s(y(o.timestamp)),1)])]))),128))])])):v("",!0)])]),t("div",ut,[t("div",ct,[e[18]||(e[18]=t("h2",{class:"text-xl font-semibold text-gray-800 mb-4"},"学习统计",-1)),t("div",xt,[t("div",gt,[t("div",mt,s(n(l).stats.totalAnswered),1),e[13]||(e[13]=t("div",{class:"text-sm text-gray-600"},"已答题数",-1))]),t("div",vt,[t("div",bt,s(n(l).stats.correctCount),1),e[14]||(e[14]=t("div",{class:"text-sm text-gray-600"},"正确题数",-1))]),t("div",ft,[t("div",pt,s(n(l).stats.accuracy)+"%",1),e[15]||(e[15]=t("div",{class:"text-sm text-gray-600"},"正确率",-1))]),t("div",ht,[t("div",_t,s(n(l).stats.totalMistakes),1),e[16]||(e[16]=t("div",{class:"text-sm text-gray-600"},"错题数量",-1))])]),t("div",wt,[B(i,{to:"/stats",class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors text-center font-medium"},{default:p(()=>[...e[17]||(e[17]=[_(" 查看详细统计 ",-1)])]),_:1}),n(l).mistakes.size>0?(d(),M(i,{key:0,to:"/mistakes",class:"px-4 py-2 bg-orange-600 text-white rounded-lg hover:bg-orange-700 transition-colors text-center font-medium"},{default:p(()=>[_(" 复习错题 ("+s(n(l).mistakes.size)+") ",1)]),_:1})):v("",!0)])])])])])}}};export{zt as default};
