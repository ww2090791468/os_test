import{u as O}from"./quiz-DfHryB7L.js";import{c as d,a as n,b as e,e as v,l as f,t as u,n as R,F as k,r as C,k as m,u as _,i as S,j as r}from"./index-CV5AmAh9.js";const T={class:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100"},E={class:"container mx-auto px-4 py-8"},F={class:"flex items-center justify-between mb-6"},H={class:"text-sm text-gray-600"},I={class:"bg-white rounded-xl shadow-lg p-4 mb-6"},$={class:"flex items-center justify-between mb-2"},D={class:"text-sm font-medium text-gray-800"},K={class:"w-full bg-gray-200 rounded-full h-2.5"},G={class:"text-center mt-2 text-sm text-gray-600"},J={key:0,class:"bg-white rounded-xl shadow-lg p-6 mb-6"},P={class:"mb-6"},U={class:"inline-block bg-blue-100 text-blue-800 text-sm px-3 py-1 rounded-full mb-4"},W={class:"text-lg text-gray-800 leading-relaxed"},X={class:"space-y-3 mb-6"},Y=["onClick","disabled"],Z={class:"font-semibold mr-2"},ee={key:0,class:"border-t pt-4"},te={class:"flex items-center mb-2"},se={key:0,class:"w-5 h-5 text-green-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},oe={key:1,class:"w-5 h-5 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},ne={key:0,class:"text-sm text-gray-700"},re={class:"font-semibold text-green-600"},le={class:"flex justify-between"},ie={class:"flex space-x-3"},ue={key:1,class:"bg-white rounded-xl shadow-lg p-8 text-center"},ae={key:2,class:"bg-white rounded-xl shadow-lg p-4"},de={class:"grid grid-cols-6 sm:grid-cols-8 md:grid-cols-10 gap-2"},ce=["onClick"],me={__name:"Quiz",setup(ge){const s=O(),Q=S(),i=d(()=>s.currentQuestion),x=d(()=>s.currentIndex),g=d(()=>s.progress),y=d(()=>s.isAnswered),w=d(()=>s.showResult),j=d(()=>{if(!i.value)return{};const o=i.value,t={};return Object.keys(o).forEach(a=>{if(a.includes("选项")&&o[a]){const l=a.charAt(0);t[l]=o[a]}}),t}),M=d(()=>({sequential:"顺序刷题",random:"随机刷题",mistakes:"错题本"})[s.currentMode]||"刷题"),b=d(()=>i.value?s.userAnswers[i.value.序号]:null),c=d(()=>!i.value||!b.value?!1:b.value===i.value.正确答案);function A(o){y.value||s.submitAnswer(o)}function B(o){const t=["border-gray-200 hover:border-blue-400 hover:bg-blue-50"];return w.value?o===i.value.正确答案?["border-green-500 bg-green-50"]:o===b.value&&!c.value?["border-red-500 bg-red-50"]:["border-gray-200 opacity-50"]:b.value===o?["border-blue-500 bg-blue-50"]:t}function z(o){const t=s.currentQuestions[o],a=o===x.value,l=s.userAnswers[t.序号],p=s.mistakes.has(t.序号);return a?"bg-blue-600 text-white":p?"bg-orange-200 text-orange-800 hover:bg-orange-300":l?"bg-green-200 text-green-800 hover:bg-green-300":"bg-gray-100 text-gray-700 hover:bg-gray-200"}function N(){s.nextQuestion()}function V(){s.prevQuestion()}function q(o){s.goToQuestion(o)}function L(){s.resetCurrentQuestion()}function h(){Q.push("/")}return(o,t)=>(r(),n("div",T,[e("div",E,[e("div",F,[e("button",{onClick:h,class:"flex items-center text-gray-600 hover:text-gray-800 transition-colors"},[...t[0]||(t[0]=[e("svg",{class:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1),f(" 返回首页 ",-1)])]),e("div",H,u(M.value),1)]),e("div",I,[e("div",$,[t[1]||(t[1]=e("span",{class:"text-sm text-gray-600"},"进度",-1)),e("span",D,u(g.value.current)+" / "+u(g.value.total),1)]),e("div",K,[e("div",{class:"bg-blue-600 h-2.5 rounded-full transition-all duration-300",style:R({width:g.value.percentage+"%"})},null,4)]),e("div",G,u(g.value.percentage)+"%",1)]),i.value?(r(),n("div",J,[e("div",P,[e("div",U," 第 "+u(i.value.序号)+" 题 ",1),e("p",W,u(i.value.题目),1)]),e("div",X,[(r(!0),n(k,null,C(j.value,(a,l)=>(r(),n("button",{key:l,onClick:p=>A(l),class:m(["w-full text-left p-4 rounded-lg border-2 transition-all duration-200",B(l)]),disabled:y.value},[e("span",Z,u(l)+".",1),f(" "+u(a),1)],10,Y))),128))]),w.value?(r(),n("div",ee,[e("div",{class:m(["p-4 rounded-lg mb-4",c.value?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"])},[e("div",te,[c.value?(r(),n("svg",se,[...t[2]||(t[2]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):(r(),n("svg",oe,[...t[3]||(t[3]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1)])])),e("span",{class:m([c.value?"text-green-800":"text-red-800","font-semibold"])},u(c.value?"回答正确！":"回答错误"),3)]),c.value?v("",!0):(r(),n("div",ne,[e("p",null,[t[4]||(t[4]=f("正确答案：",-1)),e("span",re,u(i.value.正确答案),1)])]))],2),e("div",le,[e("button",{onClick:L,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"}," 重置本题 "),e("div",ie,[x.value>0?(r(),n("button",{key:0,onClick:V,class:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors"}," 上一题 ")):v("",!0),x.value<_(s).currentQuestions.length-1?(r(),n("button",{key:1,onClick:N,class:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 下一题 ")):(r(),n("button",{key:2,onClick:h,class:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors"}," 完成练习 "))])])])):v("",!0)])):(r(),n("div",ue,[t[5]||(t[5]=e("svg",{class:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})],-1)),t[6]||(t[6]=e("p",{class:"text-gray-600 mb-4"},"没有题目了",-1)),e("button",{onClick:h,class:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors"}," 返回首页 ")])),_(s).currentQuestions.length>0?(r(),n("div",ae,[t[7]||(t[7]=e("h3",{class:"text-sm font-medium text-gray-700 mb-3"},"题目导航",-1)),e("div",de,[(r(!0),n(k,null,C(_(s).currentQuestions,(a,l)=>(r(),n("button",{key:a.序号,onClick:p=>q(l),class:m(["w-full aspect-square rounded-md text-sm font-medium transition-all",z(l)])},u(l+1),11,ce))),128))])])):v("",!0)])]))}};export{me as default};
